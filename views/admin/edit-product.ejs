<section class="main-wrap">
  <div class="container d-flex justify-content-center">
    <div class="row w-75 mt-5">
      <div class="col-md-12">
        <h2 class="text-center">Edit Product</h2>
        <form
          id="add-product-form"
          action="/admin/edit-product/<%=data._id%>"
          method="post"
          enctype="multipart/form-data"
        >
          <label for="">Product Name</label>
          <input
            type="text"
            id="name"
            name="name"
            class="form-control"
            value="<%=data.ProductName%>"
            required
          />
          <label for="">Description</label>
          <input
            type="text"
            id="description"
            name="description"
            class="form-control"
            value="<%=data.Description%>"
            required
          />

          <label for="">Price</label>
          <input
            type="text"
            name="price"
            id="price"
            class="form-control"
            value="<%=data.Price%>"
            required
          />
          <label for="">Offer Price</label>
          <input
            type="text"
            name="OfferPrice"
            id="OfferPrice"
            value="<%=data.OfferPrice%>"
            class="form-control"
            required
          />
          <!-- <label for="">Category</label> -->
          <label for="">Quantity</label>
          <input
            type="number"
            name="quantity"
            id="quantity"
            min="1"
            class="form-control"
            value="<%=data.Quantity %>"
            required
          />
          <!-- <br> -->
          <label for="">Image</label>
          <% data.Image.forEach(function(image) { %>
          <img
            src="/images/<%=image%>"
            name="Image"
            id="file"
            alt=""
            class="p-2"
            style="height: 80px; width: 80px"
          />
          <% }) %>
          <input
            type="file"
            name="file"
            onchange="viewImage(event)"
            class="form-control"
            multiple
          />
          <button type="submit" class="btn btn-success mt-4" onclick="Swal.fire({
            position: 'center',
            icon: 'success',
            title: 'Changes Saved',
            showConfirmButton: false,
            timer: 1500
          })">Submit</button>
        </form>
      </div>
    </div>
  </div>
</section>

<script>
  function viewImage(event) {
    document.getElementById("file").src = URL.createObjectURL(
      event.target.files[0]
    );
  }
</script>

<script>
  $(document).ready(function () {
    $("#add-product-form").validate({
      rules: {
        name: "required",
        description: "required",
        price: "required",
        category: "required",
        quantity: "required",
      },
      messages: {
        name: "Please enter the product name",
        description: "Please enter the product description",
        price: "Please enter the product price",
        category: "Please select a product category",
        quantity: "Please enter the product quantity",
      },
    });
  });
</script>
